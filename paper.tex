\documentclass{llncs}
\usepackage{graphics}
\usepackage{amssymb}
\usepackage[dvips]{epsfig}
%\usepackage[spanish]{babel}
\usepackage[latin1]{inputenc}

\def\CC{{C\hspace{-.05em}\raisebox{.4ex}{\tiny\bf ++}}~}
\addtolength{\textfloatsep}{-0.5cm}
\addtolength{\intextsep}{-0.5cm}


%%%%%%%%%%%%%%%% Titulo %%%%%%%%%%%%%%%
\title{Using forecasting models for new book publishing} 

%%%%%%%%%%%%%%%% autores %%%%%%%%%%%%%%%
\author {
P.A. Castillo, A.M. Mora, J.J. Merelo,  et al.
}
\institute{Department of Architecture and Computer Technology. CITIC \\
           University of Granada (Spain) \\
~\\
           e-mail: {\tt pacv@ugr.es}}

\date{} 

\begin{document}
\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{abstract}

% Cuando se edita un nuevo libro, es importante determinar el número de ejemplares que se van a imprimir en papel en cada edición, ya que a la editorial puede suponerle un alto coste imprimir volúmenes que finalmente no se vendan.
% Así pues, se hace necesario disponer de herramientas automáticas, basadas en algoritmos de extracción de la información que ofrezcan estimaciones de la cantidad de copias de cierto libro que se pueden llegar a vender.
% En ese sentido, en colaboración con la empresa PRM Consultores S.C.A. se ha llevado a cabo el análisis de un conjunto de datos que describen la tirada editorial en los últimos años. Como parte del estudio, se han aplicado diversos métodos de clasificación y predicción para determinar cuántos libros se pueden llegar a vender.

% Muchas empresas ven la estimación de las ventas de un nuevo producto como uno de las tareas más complicadas de llevar a cabo, ya que en muchos casos no suele haber datos históricos que sirvan de guía.
Many companies must face, as one of the most difficult tasks to accomplish, new product sales estimation, since in many cases no historical data to serve as guide is available.
Moreover, some of them lack the knowledge about forecasting methods and they can only make decisions based on the expert sales managers.
% Es más, realizar predicciones poco precisas puede dar lugar a decisiones erróneas que resulten en un exceso de producción que no se llegue a vender o incluso a una producción deficitaria.
Thus, making inaccurate predictions may lead to erroneous decisions that result in excess production that will not be sold, or even to a production deficit.
% Es el caso del problema de la tirada editorial, en el que las empresas editoriales deben estimar el número de volúmenes a imprimir, siempre cuidando de no imprimir más de los que realmente acaben vendiéndose. Así pues, un sistema automático de predicción de ventas de libros para estimar la tirada editorial sería de gran ayuda para las empresas editoriales.
That is the publishing roll problem, in which publishing companies must estimate the number of volumes printed, taking care not to print more than they actually end up selling. Thus, an automatic prediction of book sales to estimate the publishing roll would be helpful for publishers.
% En la bibliografía se proponen diferentes métodos de predicción de ventas, principalmente para la industria de la moda. En esos trabajos, cuando las ventas son estables, con una tendencia clara a lo largo del tiempo, los métodos clásicos son una buena opción. Sin embargo, en el caso de nuevos productos, tales como la publicación para su venta de un nuevo libro, los métodos clásicos no funcionan bien.
In the literature, different methods of sales prediction, mainly for the fashion industry are proposed. 
In these works, when sales are stable with a clear trend over time, the classical methods are a good choice. 
However, in the case of new products, such as a new book publishing, classical methods do not work properly.
% En este trabajo se propone el uso de un método basado en reglas de decisión para abordar el problema de la predicción de la tirada editorial. Dicho método ha sido validado por la empresa que cedió los datos ya que ofrece información sobre el proceso de decisión y no necesita de intervención humana, ni para el funcionamiento ni para la interpretación.
In this paper, a rule-based decision method is proposed to address the problem of predicting the publishing roll. 
This method has been validated by the company that provided the data, as the obtained models provide information on the decision process and does not require human intervention, nor for the operation or for interpretation.
\end{abstract}

%********************************************************************************
\section{Introduction and State of the Art}


% A partir de datos históricos de tiradas editoriales se plantea el uso de varios modelos basados en redes neuronales artificiales para la clasificación y predicción de la tirada de nuevos títulos editoriales.

% En principio, los datos de que se dispone para entrenar los modelos son: autor del libro, materia, precio, editorial, ventas netas y tirada.

% Como primer objetivo se define el conjunto de datos y se estudian las entradas actuales para los modelos de predicción y las que se podrían obtener para mejorar las predicciones.

% Se espera obtener modelos basados en redes neuronales capaces de realizar predicciones de la tirada global.


% A una empresa, lanzar un nuevo producto le supone un alto riesgo debido a la complejidad de los procesos de producción y distribución. En este ámbito, disponer de estimaciones de futuras ventas del nuevo producto resulta extremadamente importante \cite{ChingChin2010}.
A company that intends launching a new product has a high risk due to the complexity of the production and distribution processes. 
A newly launched product is also new to the company, and sales forecasts can be based on the experience of similar products.
In this scope, having accurate estimates of future sales of the new product is extremely important \cite{ChingChin2010}.

% La industria editorial se basa en varios pasos y procesos productivos / La publicación de un libro requiere de varios pasos / Además, la distribución es importante y juega un papel importante
In this sense, the publishing industry is based on very particular and established production processes, and publishing a book requires several steps, between whom the distribution is important and plays an important role.
% Esos pasos hacen que el proceso y las decisiones individuales en cada paso sean muy importantes. Una de esas decisiones es el número de ejemplares a imprimir.
The publishing process and individual decisions at each step are very important. One of those decisions is the number of copies to print.

% Así pues, un sistema de predicción debe tener en cuenta muchos detalles acerca del funcionamiento del proceso editorial.
Thus, a suitable prediction system for new book publishing should take into account many details about how the editorial process works.

% La implementación de un buen sistema de predicción requiere, no sólo de un buen estudio del estado del arte en este campo, sino también de un conocimiento preciso de las operaciones y retos de la industria editorial y su cadena de producción.
Implementing a good forecasting tool requires not only a good study of the state of the art in this field, but also an accurate knowledge of the operations and challenges facing the publishing industry and its supply chain.

% En el ámbito de la industria de la moda se trata de un problema muy complejo, sujeto a ciertos requisitos \cite{SThomassey2014} y que se ha abordado con diversos métodos en las últimas décadas \cite{Thomassey2012,Xia2012,Hammond1990,SThomassey2014}.
In the field of fashion industry it is very complex problem, subject to certain requirements \cite{SThomassey2014} and has been faced using various methods in recent decades \cite{Thomassey2012,Xia2012,Hammond1990,SThomassey2014}.

% Interesa imprimir un número de ejemplares suficiente pero sin pasarse, ya que los no vendidos suponen pérdidas, mientras que si se imprimieron de menos, siempre se pueden imprimir más.
In the field of publishing industry, it is more important printing an adequate number of copies but not too much, as the unsold volumes will lead to losses, whereas if the number of printed copies was not enough, you can always print more. Thus, it is extremely important to forecast the sales a new book might achieve.

% El uso de una herramienta de predicción es útil si se usa adecuadamente, y para ello conviene conocer el producto, las características de las ventas y la forma de distribuirlo, ya que son detalles que afectan al proceso \cite{Armstrong2001,SThomassey2014}.
Thus, using a predictive tool is very useful when used properly; in this sense, it is very important to know the product, the characteristics of sales and how to distribute it, as those details affect the process \cite{Armstrong2001,SThomassey2014}.

% En la industria editorial influyen diversos factores que hacen que las ventas fluctúen. Estos factores no suelen ser controlables y en ocasiones no son conocidos. Algunos tienen que ver con las decisiones sobre compras, otros con el tráfico de mercancías o con la estrategia de distribución \cite{Little1998}.
The publishing industry is influenced by various factors that make sales fluctuate. 
These factors are usually not controllable and even, sometimes are not known.
Some have to do with decisions on purchases, others with freight traffic, and others with the distribution strategy \cite{Little1998}.

% El impacto que tienen es difícil de estimar y no es constante en el tiempo, de ahí la dificultad de identificarlos adecuadamente y medir su influencia \cite{DeToni2000}. Además, algunas pueden presentar correlaciones entre ellas. Sin embargo, dichas correlaciones pueden detectarse utilizando métodos de análisis de datos, como el SOM (y otros de R) \textbf{ESPECIFICAR CUÁLES}
Their impact is difficult to estimate and it is not constant over time, hence the difficulty to adequately identify and measure their influence \cite{DeToni2000}.
In addition, some may have correlations between them. 
However, these correlations can be detected using data analysis methods, such as Self-Organizing Maps (SOM) \cite{kohonen1998} or stepwise regression analysis (SRA) \cite{Chang2009}.


% Generalmente las editoriales usan datos históricos y es un experto el que aplica su conocimiento y usa diversas variables externas para obtener predicciones bastante adecuadas.  El proceso habitual de predicción de ventas se basa en el uso de algún tipo de software que genera una predicción que sirve como base u orientación, pero que finalmente refina un experto, ya que la empresa requiere un modelo interpretable y entendible.  Por ejemplo, el experto puede subir o bajar la predicción de las ventas en función de algún periodo de ofertas.  Sin embargo, los análisis son imprecisos y pueden no tener todas las variables en cuenta.  Además, el proceso suele ser tedioso para un conjunto considerable de datos, e incluso, diferentes expertos pueden llegar a diferentes predicciones a partir de los mismos datos.
Publishers usually use historical data and an expert analyzes that data and apply his knowledge using external variables to obtain quite appropriate predictions.
However, in recent years the sales prediction task is based on the use of some software that generates a prediction. 
This is used as the basis or guidance that an expert can tune, as the company might require an interpretable and understandable model.
For example, the expert might increase or decrease the sales prediction based on some period of offers.
However, the obtained analysis can be imprecise and may not take all the variables into account.
In addition, the process is often tedious, especially when the amount of data is large, and even, different experts can reach different predictions from the same data set.


% Es por estas razones que la industria requiere que se adapten mejores técnicas de predicción a sus necesidades para realizar estimaciones de las ventas.
For these reasons, the industry requires the best suited forecasting techniques to be adopted so that, estimating sales task is carried out properly.


% El uso de herramientas de predicción puede ser beneficioso para una empresa editorial para optimizar la producción y así mejorar sus ganancias o minimizar pérdidas \cite{Zhao2001}. Un ejemplo es la optimización de las ventas \cite{Mattila2002}, mejorando el margen de ganancia al vender toda la tirada editorial.
Using predictive tools can benefit a publishing company to optimize production and improve their profits or minimize losses \cite{Zhao2001}. 
An example is the optimization of sales \cite{Mattila2002} by improving profit margins by selling the whole publishing roll.


\bigskip
%---------- estado del arte

% En la bibliografía se pueden encontrar diversas propuestas para llevar a cabo la predicción de ventas en diferentes áreas. Por un lado, ciertos métodos cualitativos se basan en la experiencia de expertos, mientras que los métodos basados en el análisis de series temporales utilizan información histórica para hacer las predicciones \cite{ChingChin2010,FaderHardie2005,Madsen2008}.
In the literature several proposals to perform the prediction of sales in different areas can be found. 
On the one hand, several qualitative methods are based on an expert experience, while time series prediction methods are based on using historical data to make predictions \cite{ChingChin2010,FaderHardie2005,Madsen2008}.

%El uso de métodos de predicción de series temporales es quizás la técnica más usada para la predicción de ventas. Entre las técnicas más conocidas destacan las técnicas estadísticas \cite{Chu2003,Brown1959,Winters1960,Box1969,Papalexopoulos1990}. 
Using time series prediction methods is perhaps the most used technique to tackle the sales forecasting task.
In this sense, among the most popular techniques include statistical techniques \cite{Chu2003,Brown1959,Winters1960,Box1969,Papalexopoulos1990}. 
% Sin embargo, la eficiencia de estas técnicas depende en gran medida del campo de aplicación y de los datos que conforman el problema. Concretamente, aquellas técnicas que requieren de una gran cantidad de datos no son las más apropiadas para realizar la predicción de ventas de nuevos productos \cite{ChingChin2010}.
However, the efficiency of these techniques depends largely on the field of application and the problem data. 
Specifically, techniques that require a large amount of data for predicting sales of new products are not the most suitable for this task \cite{ChingChin2010}.

% En cualquier caso, en diversos trabajos ha quedado demostrado que una reducción de los errores de predicción en las ventas da como resultado una mejora en la cadena de producción \cite{Bayraktar2008,Fildes2010,Saeed2008,Zhao2002}.
Anyway, several studies have demonstrated that improving sale predictions (a reduction of forecasting errors) results in an improvement in the production \cite{Bayraktar2008,Fildes2010,Saeed2008,Zhao2002}.


% Por otro lado, diferentes autores han propuesto métricas para determinar la bondad de las estimaciones. Sin embargo, las más comunmente utilizadas por las empresas son las basadas en el análisis de los errores cometidos (MSE, MAPE) \cite{ChingChin2010,Madsen2008}.
On the other hand, different authors have proposed metrics to determine the accuracy of estimates. 
However, most companies use metrics based on the analysis of errors (MSE, MAPE) \cite{ChingChin2010,Madsen2008}.

% Finalmente, existen casos en los que las predicciones se ven influenciadas por variables externas que hay que tener en cuenta, como la estacionalidad, promociones o modas \cite{Lapide1999}. Algunos autores proponen reducir las variaciones en los datos causadas por esas variables para mejorar la precisión de las predicciones \cite{Sheikh2003,Schrieber2005}. % p.ej. separar los datos relativos a una estación de otras para clasificar por separado.
Finally, in many cases the predictions are influenced by external variables that must be taken into account, such as seasonality, promotions or fashions \cite{Lapide1999,ChernWSF15}.
In this sense, some authors propose reducing variations in the data caused by such variables to improve the accuracy of predictions
 \cite{Sheikh2003,Schrieber2005}.

% Por el tipo de problema que queremos abordar en este artículo, los métodos clásicos de predicción no son útiles, por lo que deberemos analizarlos previamente con otras herramientas. Además, puesto que las editoriales necesitan modelos que expliquen las predicciones ofrecidas, ciertos métodos tipo caja negra pueden no resultar adecuados a igualdad de precisión en las predicciones.
Taking into account the kind of problem we address in this paper, the classical forecasting methods are not useful. 
Thus, we must analyze raw data using other tools, prior to apply forecasting techniques.
In addition, since publishers need models to explain obtained predictions, black box forecasting methods may not be suitable for this problem.


\bigskip
%---------- final de la intro

The rest of this paper is structured as follows:
%Section \ref{sec:soa} presents a comprehensive review of the approaches found in the bibliography to BLA BLA BLA.
Section \ref{sec:problem} describes the new book publishing problem, followed by Section \ref{sec:methodology} where the experimental setup and the methodology considered in the study is presented. 
Section \ref{sec:experiments} reports and analyzes the obtained results with a real data set.
Finally, conclusions and future work are presented in Section \ref{sec:conclusionsAndFutureWork}.



%********************************************************************************
\section{The problem}
\label{sec:problem}

Sales forecasting in editorial industry is a very complex problem.
There are several difficulties inherent to the new book sales forecasting, such as dealing with limited data, finding adequate forecasting methods, and selecting the best method to use \cite{ChingChin2010}.

The main issue of this paper is to compute forecasting of the sales for new unpublished-books, for which no historical data is available.
Thus, this paper faces the new book publishing problem using different prediction methods and using as inputs the historical sales data related to other yet published books, and some descriptive variables relative to the new unpublished-book.

En el caso de libros ya publicados, se dispone de datos históricos que ayudan a la generación de modelos predictivos. 
Sin embargo, en el caso de nuevos libros no hay datos históricos que ayuden a definir patrones, y sólo ciertos datos descriptivos están disponibles, por lo que no todos los métodos de predicción se pueden utilizar \cite{Madsen2008,ChernWSF15}. 

An additional issue is the dificulty to compare our model with classical forecasting methods, such as time series prediction methods, since books do not have specific sales time series.

A lo largo de esta investigación se colaboró con la empresa Trevenque Editorial \footnote{{\tt http://editorial.trevenque.es}}, una compañía que ofrece sistemas de gestión y servicios para librerías, editoriales y distribuidoras.

La empresa Trevenque, cuyo experto asesoró esta investigación, facilitó un conjunto de datos inicial consistente en 3159 libros. 
En este conjunto, para cada libro se incluye información descriptiva del libro, como son el precio, lugares donde se han puesto a la venta, materia, editorial, ventas, devoluciones, entre otros datos. 
Table \ref{tabla:paramsOrig50} shows the original set of parameters describing each book.

\begin{table}[!h]
\caption{Parameters describing a book, as provided by the company Trevenque.}
\label{tabla:paramsOrig50}
\begin{center}
\begin{tabular}{|c|c|}
\hline 

\begin{minipage}{2.3in} \begin{verbatim}
referencia
autor
pvp
materia1
materia2
materia3
editorial
coleccion
encuadernacion
tirada
venta_total
venta_grandes_superficies
venta_delegados
venta_resto
venta1anio_total
venta1anio_grandes_superficies
venta1anio_delegados
venta1anio_resto
colocado_total
colocado_grandes_superficies
colocado_delegados
colocado_resto
colocado1anio_total
colocado1anio_grandes_superficies
colocado1anio_delegados
\end{verbatim} \end{minipage}     & 

\begin{minipage}{2.3in} \begin{verbatim}
colocado1anio_resto
reimpresiones
numero_reimpresiones
devolucion_total
devolucion_grandes_superficies
devolucion_delegados
devolucion_resto
devolucion1anio_total
devolucion1anio_grandes_superficies
devolucion1anio_delegados
devolucion1anio_resto
obsequios
ejemplares_distribuidos_en_novedad
puntos_vta_total
puntos_vta_grandes_superficies
puntos_vta_delegados
puntos_vta_resto
puntos_vta1anio_total
puntos_vta1anio_grandes_superficies
puntos_vta1anio_delegados
puntos_vta1anio_resto
semanas_venta
entorno_venta_positivo
entorno_venta_medio
entorno_venta_negativo
\end{verbatim} \end{minipage}    \\

\hline
\end{tabular}
\end{center}
\end{table}

En el problema de la predicción de ventas de nuevos libros afectan diversas variables propias del libro en cuestión, como por ejemplo el autor, el precio, la materia o la editorial.

Sin embargo, existen otras variables externas que también afectan a las ventas de un nuevo libro.
Se trata de cuestiones como la estacionalidad, modas o promociones.
Estas otras variables no medibles y que los métodos de predicción clásicos no pueden procesar y que un experto debe tener en cuenta modificando la predicción ofrecida por el método automático. 
Las empresas editoriales suelen finalmente definir reglas o índices para ajustar subjetivamente los resultados de predicción.


%********************************************************************************
\section{Methodology}
\label{sec:methodology}

Hay varias dificultades inherentes al problema de la predicción de ventas de nuevos productos: la limitación en la cantidad de datos disponibles, la aplicación de los diferentes métodos y la elección del más adecuado de ellos.

Además, no existe una metodología estándar para resolver el problema general de la predicción de ventas. 
Habitualmente es necesario un análisis previo de los datos para eliminar las variables que describen el producto y que no aportan información útil para realizar el proceso de predicción.

Thus, in this study there are three main stages: 
\begin{itemize}
  \item  First, after the editorial company has provided the raw data, taken directly from its database, a selection variables process is carried out. In this stage, a SOM cluster method is used to analyze data, to eliminate unrelated variables and to select the best variables to be considered in the forecasted model. This task may help to identify leading indicators to be used by the forecasting methods in order to improve the accuracy of future forecasts.

  \item  Then, several forecasting methods has to be tested. In this stage different forecasting methods are used to obtain sales forecasts from the data provided.

  \item  Finally, in some cases, it is necessary a third stage where experienced managers adjust subjectively the results obtained using the forecasting methods. They might manually adjust the forecasting results taking into account their knowledge in industry experience and their perception about trends.

\end{itemize}

Finally, in order to compute the forecasting errors of the different methods, the following standard criteria have been selected: Mean absolute error, Root mean squared error, Relative absolute error and Root relative squared error.


%-------------------------------------------------
\subsection{Data collection and analysis}

Las predicciones suelen basarse en datos históricos de las cuales extraer series temporales y patrones. 
Sin embargo, en el caso de nuevos productos, como es el caso de la edición de nuevos libros, es complicado observar patrones pasados ya que no hay disponibles datos históricos de las ventas \cite{ChingChin2010}.

Además, de todas las variables descriptivas de un nuevo libro, algunas influirán en las predicciones aportando información, mientras que otras pueden resultar superfluas e incluso redundantes.

Así pues, a partir del conjunto inicial de variables, se aplicó el SOM \cite{kohonen1998} con el objetivo de reducir la dimensionalidad de los datos de entrada y elegir un conjunto de variables adecuado.

\textbf{FALTA EXPLICAR EN UN PAR DE PÁRRAFOS QUÉ ES EL SOM DE KOHONEN.} 
This method is usually applied to analyze data as similar items tend to be mapped close together, while those items dissimilar, are mapped apart.
Also, the SOM graph represents and highlight very clearly those regions (clusters) with high training sample concentration and fewer where the samples are scarce.


En un primer paso, el experto analizó las 50 variables de entrada que describen cada libro para eliminar algunas que estimó como suplerfuas.
Table \ref{tabla:params43} shows the set of variables describing a book (43 total inputs) that the expert manager determined as non-superfluous or non-redundant.

\begin{table}[!h]
\caption{Variables describing a book (43 total inputs), after the expert manager analized the original dataset provided by the company Trevenque to remove some inputs.}
\label{tabla:params43}
\begin{center}
\begin{tabular}{|c|c|}
\hline 

\begin{minipage}{2.3in} \begin{verbatim}
puntos_vta1anio_grandes_superficies
venta1anio_resto
entorno_venta_negativo
colocado1anio_grandes_superficies
devolucion_total
reimpresiones
venta1anio_grandes_superficies
puntos_vta1anio_total
ejemplares_distribuidos_en_novedad
tirada
numero_reimpresiones
devolucion_grandes_superficies
puntos_vta1anio_resto
venta_resto
puntos_vta_delegados
devolucion_resto
puntos_vta1anio_delegados
entorno_venta_positivo
colocado1anio_resto
puntos_vta_resto
devolucion1anio_total
devolucion_delegados
\end{verbatim} \end{minipage}     & 

\begin{minipage}{2.3in} \begin{verbatim}
venta_grandes_superficies
colocado1anio_total
puntos_vta_total
colocado_grandes_superficies
colocado1anio_delegados
puntos_vta_grandes_superficies
venta1anio_total
entorno_venta_medio
semanas_venta
colocado_delegados
autor
venta1anio_delegados
obsequios
devolucion1anio_grandes_superficies
venta_delegados
colocado_resto
devolucion1anio_delegados
colocado_total
devolucion1anio_resto
pvp
venta_total (output)
\end{verbatim} \end{minipage}    \\

\hline
\end{tabular}
\end{center}
\end{table}

Then, after analizyng the original dataset using the SOM to select the best variables to be considered, and taking into account the knowledge of the company experienced manager, 13 inputs were considered. 
Figure \ref{fig:som43} shows the initial analisys of dataset using the total of 43 descriptive inputs per book.
Table \ref{tabla:params13} shows the set of variables describing a book after the second analisys.

\begin{figure}[!h] 
\begin{center}
\includegraphics{som43.eps} \\
\caption{\small{Análisis de los datos iniciales, usando 43 variables descriptivas por libro, utilizando el SOM.}}
\label{fig:som43}
\end{center}
\end{figure}

\begin{table}[!h]
\caption{Variables describing a book (13 total inputs), after the second analisys carried out using the SOM along with the company experienced manager to select the best variables to be considered to solve the sales forecasting problem.}
\label{tabla:params13}
\begin{center}
\begin{tabular}{|c|}
\hline 

\begin{minipage}{2.3in} \begin{verbatim}
devolucion_total
reimpresiones
puntos_vta1anio_total
ejemplares_distribuidos_en_novedad
numero_reimpresiones
devolucion1anio_total
colocado1anio_total
puntos_vta_total
semanas_venta
colocado_total
pvp
tirada
venta_total (output)
\end{verbatim} \end{minipage}     \\

\hline
\end{tabular}
\end{center}
\end{table}


Finally, after analizyng the dataset with 13 descriptive inputs per book, and paying attention to the company experienced manager's recommendations, 7 inputs were considered; specifically, variables \emph{editorial} and \emph{materia} were included, while \emph{devolucion\_total, reimpresiones, puntos\_vta1anio\_total, numero\_reimpresiones, devolucion1anio\_total, colocado1anio\_total, semanas\_venta, tirada} were discarded. 
Figure \ref{fig:som13} shows the initial analisys of dataset using the SOM on the total of 13 descriptive inputs per book.
This, along with the expert manager knowledge determined the final 7 inputs to be considered.
Table \ref{tabla:params7} shows the final set of variables describing a book, taking into account the company experienced manager knowledge.

\begin{figure}[!h] 
\begin{center}
\includegraphics{som13.eps} \\
\caption{\small{Análisis de los datos iniciales, usando 13 variables descriptivas por libro, utilizando el SOM.}}
\label{fig:som13}
\end{center}
\end{figure}

\begin{table}[!h]
\caption{Final set of variables describing a book, taking into account the company experienced manager knowledge, to be considered to solve the sales forecasting problem.}
\label{tabla:params7}
\begin{center}
\begin{tabular}{|c|}
\hline 

\begin{minipage}{2.3in} \begin{verbatim}
ejemplares_distribuidos_en_novedad
puntos_vta_total
colocado_total
pvp
materia
editorial
venta_total (output)
\end{verbatim} \end{minipage}     \\

\hline
\end{tabular}
\end{center}
\end{table}



%-------------------------------------------------
\subsection{Selecting an appropriate forecasting method}

Como se ha comentado anteriormente, existen diferentes métodos de predicción disponibles en la bibliografía, cada uno con una serie de parámetros diferente que pueden influir en los resultados.

Sin embargo, dado que en el caso de nuevos libros sólo ciertos datos descriptivos están disponibles (frente a datos históricos de ventas de libros ya publicados), no todos los métodos predictivos se pueden usar en este problema concreto.

Thus, in this research five forecasting methods, based on the literature review in the introduction \cite{Madsen2008,ChingChin2010,Thomassey2012,Xia2012,SThomassey2014}, have been used:

\begin{itemize}

 % weka.classifiers.trees.M5P
 %		http://weka.sourceforge.net/doc.dev/weka/classifiers/trees/M5P.html
 \item M5 Model trees and rules: The original algorithm M5 was proposed by Quinlan \cite{Quinlan1992} and afterwards Wang \cite{Wang1997} made improvements.

 % weka.classifiers.functions.LinearRegression
 %		http://weka.sourceforge.net/doc.dev/weka/classifiers/functions/LinearRegression.html
 \item Linear Regression

 % weka.classifiers.functions.SMOreg
 %		http://weka.sourceforge.net/doc.dev/weka/classifiers/functions/SMOreg.html
 \item Support Vector Machine for Regression (SMOreg): This algorithm was proposed by Shevade et al \cite{Shevade1999}.

 % weka.classifiers.lazy.IBk 
 %		http://weka.sourceforge.net/doc.dev/weka/classifiers/lazy/IBk.html
 \item K-nearest neighbours classifier (IBk): \cite{Aha1991}

 % weka.classifiers.functions.MultilayerPerceptron
 %		http://weka.sourceforge.net/doc.dev/weka/classifiers/functions/MultilayerPerceptron.html
 \item Multilayer Perceptron

\end{itemize}

The objective is finding the most appropriate forecasting method that minimizes the error between the forecast and the actual sales for each new book published.


%********************************************************************************
\section{Experiments and Results}
\label{sec:experiments}

Una vez que se han determinado los métodos a utilizar y los parámetros de ejecución, se aplicarán a los conjuntos de datos para obtener los modelos de predicción y posteriormente se comprobará su bondad ante datos no vistos previamente.

\textbf{TODO:} FALTA CONTAR COMO SE HAN PLANIFICADO LAS EJECUCIONES CON LOS DIFERENTES METODOS

  %  
  %  El proceso que seguimos, resumido para el paper, es:
  %  
  %  [43 entradas] en 2013-01 vamos a tomar 
  %  	pb_noneg.csv para obtener pb_ventas.csv (es el pb_ventas.arff)
  %  
  %  [13 entradas] en 2013-02-08 vamos a tomar 
  %  	controlado_reducido.csv.arff (197 líneas)
  %  	pbenero.csv.arff (5656 líneas)
  %  
  %  [7 entradas; materia editorial] en 2013-02-25 vamos a tomar
  %  	pbRAWtrn.arff
  %  	pbRAWtst.arff
  %  


%********************************************************************************
\section{Conclusions and Future Work}
\label{sec:conclusionsAndFutureWork}

La predicción de ventas en la industria editorial es un problema muy challenging durante los últimos años.

Para resolver este problmea, diferentes técnicas de datamining pueden ser muy útiles, al no haber datos históricos disponibles de las ventas.

La investigación descrita en este trabajo se ha llevado a cabo conjuntamente con una empresa editorial que ha facilitado un conjunto de datos con los que trabajar, así como con la ayuda de un experto en ventas de este campo para validar los resultados obtenidos.
En este sentido, los árboles de decisión resultaron ser un modelo muy adecuado debido a la facilidad para explicar cómo se obtiene dicha predicción a partir de las variables descriptivas del nuevo libro. Esto, frente a los modelos tipo black-box como las ANN fue determinante desde el punto de vista de las necesidades de los expertos y la empresa.

This research provides a new direction in the sales forecasting area using different soft-computing techniques.
Moreover, proposed method could be implemented, not only in the editorial industry, but also in other domains where the specificity of products is similar, and might be of interest to other academic researches and industrial practitioners.

%---------- trabajos futuros

Como trabajos futuros sería interesante comparar las predicciones de los modelos obtenidos con otros basados en métodos de soft-computing, como genetic programming o fuzzy logic.

Por otro lado, puesto que hay algunas características que pueden afectar a la venta de productos de forma significativa, otra forma de mejorar las predicciones de ventas podría ser realizar un estudio en profundidad del efecto de la aplicación de descuentos y promociones.


%********************************************************************************
\section*{Acknowledgements}
This work has been supported in part by SIPESCA (Programa Operativo FEDER de Andalucía 2007-2013), TIN2011-28627-C04-02 and TIN2014-56494-C4-3-P (Spanish Ministry of Economy and Competitivity), SPIP2014-01437 (Direcci{\'o}n General de Tr{\'a}fico), PRY142/14 (Fundaci{\'o}n P{\'u}blica Andaluza Centro de Estudios Andaluces en la IX Convocatoria de Proyectos de Investigaci{\'o}n), and PYR-2014-17 GENIL project (CEI-BIOTIC Granada).


%********************************************************************************
\bibliographystyle{plain}
\bibliography{refs}

\end{document}
